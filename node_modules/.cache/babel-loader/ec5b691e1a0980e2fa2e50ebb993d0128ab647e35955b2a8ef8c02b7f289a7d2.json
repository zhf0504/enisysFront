{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport BaseTitle from '@/components/BaseTitle.vue';\nimport NotificationError from '@/components/error/NotificationError.vue';\nimport router from '@/router';\nimport store from '@/store';\nimport { onMounted, reactive, ref } from 'vue';\nimport contractList from '@/assets/JsonData/contract/contractList.json';\nexport default {\n  components: {\n    BaseTitle,\n    NotificationError\n  },\n  setup() {\n    const screen = reactive({\n      label: {\n        title: '契約一覧',\n        button: {\n          backBtn: '戻る',\n          copyRegisterBtn: 'コピー登録',\n          keiyakuSanShouBtn: '契約参照'\n        },\n        table: [{\n          title: '会員氏名',\n          key: 'full_nm'\n        }, {\n          title: '適用期間',\n          key: 'effective_period'\n        }, {\n          title: '請求方法',\n          key: 'billingMethod'\n        }, {\n          title: '身保',\n          key: ''\n        },\n        //TODO 今後追加\n        {\n          title: '業提',\n          key: ''\n        },\n        //TODO 今後追加\n        {\n          title: '万一',\n          key: ''\n        },\n        //TODO 今後追加\n        {\n          title: '葬儀',\n          key: ''\n        },\n        //TODO 今後追加\n        {\n          title: '納骨',\n          key: ''\n        },\n        //TODO 今後追加\n        {\n          title: '遺品',\n          key: ''\n        },\n        //TODO 今後追加\n        {\n          title: '金銭',\n          key: ''\n        } //TODO 今後追加\n        ]\n      },\n      isOpenTable: true,\n      selectedRows: [],\n      isVisible: false\n    });\n    //TODO 契約一覧リスト取得\n    const requestDataList = ref(contractList);\n\n    //行単位の処理\n    const selectRow = indexRow => {\n      const selectedIndex = screen.selectedRows.indexOf(indexRow);\n      if (selectedIndex === -1) {\n        //選択した行をリスト追加\n        screen.selectedRows.push(indexRow);\n      } else {\n        // 存在すれば、リストから破棄\n        screen.selectedRows.splice(selectedIndex, 1);\n      }\n    };\n    //初期表示\n    onMounted(() => {\n      const mode = sessionStorage.getItem('mode');\n      if (mode == '1') {\n        screen.isVisible = true;\n        screen.label.title = screen.label.title + '(履歴)';\n      } else {\n        screen.isVisible = false;\n      }\n    });\n\n    //戻るボタン処理\n    const handleBackBtn = () => {\n      store.dispatch('auth/updatePermission', {\n        flag: 'ContrSearch',\n        values: false\n      });\n      router.push({\n        name: 'ContrSearch'\n      });\n    };\n    //TODO コピー登録処理\n    const handleCopyRegisterBtn = () => {\n      console.log('コピー登録処理');\n    };\n    //TODO 契約参照モード処理\n    const handleKeiyakuSanShouBtn = () => {\n      console.log('契約参照モード処理');\n    };\n    return {\n      screen,\n      handleBackBtn,\n      requestDataList,\n      selectRow,\n      handleCopyRegisterBtn,\n      handleKeiyakuSanShouBtn\n    };\n  }\n};","map":{"version":3,"names":["BaseTitle","NotificationError","router","store","onMounted","reactive","ref","contractList","components","setup","screen","label","title","button","backBtn","copyRegisterBtn","keiyakuSanShouBtn","table","key","isOpenTable","selectedRows","isVisible","requestDataList","selectRow","indexRow","selectedIndex","indexOf","push","splice","mode","sessionStorage","getItem","handleBackBtn","dispatch","flag","values","name","handleCopyRegisterBtn","console","log","handleKeiyakuSanShouBtn"],"sources":["C:\\Users\\zhenghoufeng\\Desktop\\project\\enisysFront1\\src\\views\\KYK002_ContrList.vue"],"sourcesContent":["<template>\r\n  <VContainer>\r\n    <!-- タイトル -->\r\n    <BaseTitle :title=\"screen.label.title\" />\r\n    <!-- エラーメッセージ -->\r\n    <div class=\"errorMess\">\r\n      <NotificationError v-if=\"screen.errorCode\" :errorCode=\"screen.errorCode\" />\r\n    </div>\r\n    <!-- 戻るーコピー登録ボタン -->\r\n    <VRow class=\"form-row-btn\">\r\n      <VBtn class=\"custom-btn\" color=\"primary\" @click=\"handleBackBtn\">{{ screen.label.button.backBtn }}</VBtn>\r\n      <VBtn class=\"custom-btn\" v-if=\"!screen.isVisible\" color=\"primary\" @click=\"handleCopyRegisterBtn\">\r\n        {{ screen.label.button.copyRegisterBtn }}\r\n      </VBtn>\r\n    </VRow>\r\n\r\n    <!-- 契約一覧PC -->\r\n    <div v-if=\"screen.isOpenTable\" class=\"isPC\">\r\n      <VTable class=\"form-table\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"form-table-title\" v-for=\"(header, index) in screen.label.table\" :key=\"index\">\r\n              {{ header.title }}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"(row, rowIndex) in requestDataList\"\r\n            :key=\"rowIndex\"\r\n            :class=\"{ 'selected-row': screen.selectedRows.includes(rowIndex) }\"\r\n            @click=\"selectRow(rowIndex)\"\r\n          >\r\n            <td class=\"form-table-row\">\r\n              <!-- TODO 契約参照モード処理 -->\r\n              <v-tooltip :text=\"row.full_nm\">\r\n                <template v-slot:activator=\"{ props }\">\r\n                  <router-link :to=\"{ name: 'ContrRegister' }\" v-bind=\"props\" class=\"text-ellipsis\">\r\n                    {{ row.full_nm }}\r\n                  </router-link>\r\n                </template>\r\n              </v-tooltip>\r\n            </td>\r\n            <td class=\"form-table-row\">{{ row.effective_period }}</td>\r\n            <td class=\"form-table-row\">{{ row.billingMethod }}</td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.shibo ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.gyotei ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.manichi ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.sougi ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.nokotsu ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.relics ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n            <td class=\"form-table-row\">\r\n              <VIcon>{{ row.kinsen ? 'mdi-circle' : '' }}</VIcon>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </VTable>\r\n    </div>\r\n\r\n    <!-- 会員一覧のSP版 -->\r\n    <div v-if=\"screen.isOpenTable\" class=\"form-table-sub isSP\">\r\n      <div class=\"form-table-header\">\r\n        <div class=\"form-table-header-sub\">\r\n          <!-- 氏名 -->\r\n          <div class=\"form-table-title-sub-1\">\r\n            <h2>{{ screen.label.table[0].title }}</h2>\r\n          </div>\r\n          <!-- 請求方法 -->\r\n          <div class=\"form-table-title-sub-1\">\r\n            <h2>{{ screen.label.table[2].title }}</h2>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-table-header-sub\">\r\n          <!-- 適用期間 -->\r\n          <div class=\"form-table-title-sub-3\">\r\n            <h2>{{ screen.label.table[1].title }}</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        v-for=\"(row, indexRow) in requestDataList\"\r\n        :key=\"indexRow\"\r\n        :class=\"{ 'selected-row': screen.selectedRows.includes(indexRow) }\"\r\n        class=\"form-table-data\"\r\n        @click=\"selectRow(indexRow)\"\r\n      >\r\n        <div class=\"form-table-data-sub\">\r\n          <div class=\"form-table-row-sub-1\">\r\n            <v-tooltip v-model=\"row.showTooltipName\" :text=\"row.full_nm\">\r\n              <template v-slot:activator=\"{ props }\">\r\n                <span v-bind=\"props\" @click=\"row.showTooltipName = !row.showTooltipName\">{{ row.full_nm }}</span>\r\n              </template>\r\n            </v-tooltip>\r\n          </div>\r\n\r\n          <div class=\"form-table-row-sub-2\">{{ row.billingMethod }}</div>\r\n        </div>\r\n\r\n        <div class=\"form-table-data-sub\">\r\n          <div class=\"form-table-row-sub-3\">{{ row.effective_period }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <VRow class=\"form-row-btn-sub isSP\">\r\n      <VBtn @click=\"screen.isExpanded = !screen.isExpanded\" class=\"footer-button-sub\">\r\n        <VIcon>{{ screen.isExpanded ? 'mdi-chevron-down' : 'mdi-chevron-up' }}</VIcon>\r\n      </VBtn>\r\n      <VExpandTransition>\r\n        <div v-if=\"screen.isExpanded\" class=\"footer-button-sub\">\r\n          <VBtn class=\"custom-btn\" color=\"primary\" @click=\"handleBackBtn\">{{ screen.label.button.backBtn }}</VBtn>\r\n          <VBtn class=\"custom-btn\" color=\"primary\" v-if=\"!screen.isVisible\" @click=\"handleCopyRegisterBtn\">\r\n            {{ screen.label.button.copyRegisterBtn }}\r\n          </VBtn>\r\n          <VBtn class=\"custom-btn\" color=\"primary\" @click=\"handleKeiyakuSanShouBtn\">\r\n            {{ screen.label.button.keiyakuSanShouBtn }}\r\n          </VBtn>\r\n        </div>\r\n      </VExpandTransition>\r\n    </VRow>\r\n  </VContainer>\r\n</template>\r\n\r\n<script>\r\n  import BaseTitle from '@/components/BaseTitle.vue';\r\n  import NotificationError from '@/components/error/NotificationError.vue';\r\n  import router from '@/router';\r\n  import store from '@/store';\r\n  import { onMounted, reactive, ref } from 'vue';\r\n  import contractList from '@/assets/JsonData/contract/contractList.json';\r\n\r\n  export default {\r\n    components: { BaseTitle, NotificationError },\r\n    setup() {\r\n      const screen = reactive({\r\n        label: {\r\n          title: '契約一覧',\r\n          button: {\r\n            backBtn: '戻る',\r\n            copyRegisterBtn: 'コピー登録',\r\n            keiyakuSanShouBtn: '契約参照'\r\n          },\r\n          table: [\r\n            { title: '会員氏名', key: 'full_nm' },\r\n            { title: '適用期間', key: 'effective_period' },\r\n            { title: '請求方法', key: 'billingMethod' },\r\n            { title: '身保', key: '' }, //TODO 今後追加\r\n            { title: '業提', key: '' }, //TODO 今後追加\r\n            { title: '万一', key: '' }, //TODO 今後追加\r\n            { title: '葬儀', key: '' }, //TODO 今後追加\r\n            { title: '納骨', key: '' }, //TODO 今後追加\r\n            { title: '遺品', key: '' }, //TODO 今後追加\r\n            { title: '金銭', key: '' } //TODO 今後追加\r\n          ]\r\n        },\r\n        isOpenTable: true,\r\n        selectedRows: [],\r\n        isVisible: false\r\n      });\r\n      //TODO 契約一覧リスト取得\r\n      const requestDataList = ref(contractList);\r\n\r\n      //行単位の処理\r\n      const selectRow = (indexRow) => {\r\n        const selectedIndex = screen.selectedRows.indexOf(indexRow);\r\n        if (selectedIndex === -1) {\r\n          //選択した行をリスト追加\r\n          screen.selectedRows.push(indexRow);\r\n        } else {\r\n          // 存在すれば、リストから破棄\r\n          screen.selectedRows.splice(selectedIndex, 1);\r\n        }\r\n      };\r\n      //初期表示\r\n      onMounted(() => {\r\n        const mode = sessionStorage.getItem('mode');\r\n\r\n        if (mode == '1') {\r\n          screen.isVisible = true;\r\n          screen.label.title = screen.label.title + '(履歴)';\r\n        } else {\r\n          screen.isVisible = false;\r\n        }\r\n      });\r\n\r\n      //戻るボタン処理\r\n      const handleBackBtn = () => {\r\n        store.dispatch('auth/updatePermission', { flag: 'ContrSearch', values: false });\r\n        router.push({ name: 'ContrSearch' });\r\n      };\r\n      //TODO コピー登録処理\r\n      const handleCopyRegisterBtn = () => {\r\n        console.log('コピー登録処理');\r\n      };\r\n      //TODO 契約参照モード処理\r\n      const handleKeiyakuSanShouBtn = () => {\r\n        console.log('契約参照モード処理');\r\n      };\r\n      return {\r\n        screen,\r\n        handleBackBtn,\r\n        requestDataList,\r\n        selectRow,\r\n        handleCopyRegisterBtn,\r\n        handleKeiyakuSanShouBtn\r\n      };\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .form-row-btn {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: 30px 0;\r\n  }\r\n\r\n  .form-row-btn .custom-btn {\r\n    width: 130px;\r\n  }\r\n\r\n  .form-table {\r\n    margin: 30px 0;\r\n    max-height: 550px;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .form-table thead {\r\n    position: sticky;\r\n    top: 0;\r\n    z-index: 1;\r\n  }\r\n\r\n  .form-table,\r\n  .form-table th,\r\n  .form-table thead {\r\n    border: 1px solid #ddd;\r\n  }\r\n\r\n  .form-table td {\r\n    border: 1px solid #f0f0f0;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .form-table th {\r\n    font-size: 18px;\r\n    background-color: #97d885;\r\n    color: white;\r\n    font-weight: bolder;\r\n    text-align: center !important;\r\n  }\r\n\r\n  .selected-row {\r\n    background-color: #e2efda !important;\r\n  }\r\n  .text-ellipsis {\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .form-table-row:nth-child(4),\r\n  .form-table-row:nth-child(5),\r\n  .form-table-row:nth-child(6),\r\n  .form-table-row:nth-child(7),\r\n  .form-table-row:nth-child(8),\r\n  .form-table-row:nth-child(9),\r\n  .form-table-row:nth-child(10) {\r\n    text-align: center;\r\n  }\r\n\r\n  /* SP版のCSS */\r\n  @media (max-width: 850px) {\r\n    .form-row-btn {\r\n      display: none;\r\n    }\r\n    .form-row-btn-sub {\r\n      position: fixed;\r\n      bottom: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      background-color: white;\r\n      margin: 0 auto;\r\n      padding: 38px 0 0 0;\r\n      display: block;\r\n      z-index: 102;\r\n    }\r\n\r\n    .footer-button-sub:nth-child(1) {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      font-size: 24px;\r\n      z-index: 103;\r\n      border: none;\r\n      box-shadow: none;\r\n    }\r\n    .footer-button-sub:nth-child(2) {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      margin-left: 1.5em;\r\n      margin-right: 1.5em;\r\n    }\r\n    .form-row-btn-sub .custom-btn {\r\n      font-size: 16px;\r\n      border-radius: 17px;\r\n      width: 30%;\r\n      margin-bottom: 1em;\r\n    }\r\n\r\n    /* SP版テーブル */\r\n    .form-table-sub {\r\n      max-height: 570px;\r\n      width: 100%;\r\n      overflow-y: auto;\r\n      border-collapse: collapse;\r\n      margin-bottom: 1em;\r\n    }\r\n    .form-table-sub .form-table-header {\r\n      position: sticky;\r\n      top: 0;\r\n      z-index: 1;\r\n      color: white;\r\n      font-size: 12px;\r\n      background-color: #97d885;\r\n      border: 1px solid black !important;\r\n    }\r\n    .form-table-sub .form-table-data {\r\n      background-color: white;\r\n      cursor: pointer;\r\n      border: 1px solid black !important;\r\n    }\r\n\r\n    .form-table-header-sub,\r\n    .form-table-data-sub {\r\n      display: flex;\r\n      width: 100%;\r\n    }\r\n    .form-table-header-sub div,\r\n    .form-table-data-sub div {\r\n      padding: 10px;\r\n      text-align: left;\r\n      border: 1px solid #ddd;\r\n    }\r\n\r\n    .form-table-title-sub-1,\r\n    .form-table-row-sub-1,\r\n    .form-table-title-sub-2,\r\n    .form-table-row-sub-2,\r\n    .form-table-title-sub-3,\r\n    .form-table-row-sub-3 {\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n\r\n    .form-table-title-sub-1,\r\n    .form-table-row-sub-1,\r\n    .form-table-title-sub-2,\r\n    .form-table-row-sub-2 {\r\n      width: 50%;\r\n      text-align: center !important;\r\n    }\r\n\r\n    .form-table-title-sub-3,\r\n    .form-table-row-sub-3 {\r\n      width: 100%;\r\n      text-align: center !important;\r\n    }\r\n  }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}