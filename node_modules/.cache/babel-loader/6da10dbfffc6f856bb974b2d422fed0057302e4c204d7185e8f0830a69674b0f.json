{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport { reactive } from 'vue';\nimport NotificationError from '@/components/error/NotificationError.vue';\nimport { useAuth } from '@/composables/userAuth';\nimport BaseTitle from '@/components/BaseTitle.vue';\nimport store from '@/store';\nimport router from '@/router';\n// import Cookies from \"js-cookie\";\n\nexport default {\n  components: {\n    BaseTitle,\n    NotificationError\n  },\n  setup() {\n    // リアクティブな変数を定義\n    const screen = reactive({\n      label: {\n        title: 'ログイン',\n        ID: '端末ID',\n        colon: ':',\n        user: '従業員コード',\n        password: 'パスワード',\n        loginBtn: 'ログイン'\n      },\n      title: 'ログイン',\n      uuidDisplayisPC: '71551E9F-FA01-6947-AFEA-11B73F1DF273',\n      uuidDisplayisSP: '71551E9F-FA01-6947',\n      employeeCode: '9999:enisitaro',\n      password: 'admin@11',\n      showPassword: false,\n      isFocused: false,\n      errorCode: ''\n    });\n    const {\n      login\n    } = useAuth();\n    const generateFakeToken = username => {\n      return btoa(`${username}-fakeToken-${Date.now()}`);\n    };\n\n    // const uuidFromCookies = Cookies.get(\"uuid\");\n    //クッキーからUUID(デバイス)をチェック\n    // if (uuidFromCookies) {\n    //   uuidDisplay.value = uuidFromCookies.value;\n    //   // errorCode.value = \"E001\";\n    // } else {\n    //   // router.push(\"/ErrorPage\");\n    // }\n\n    // ボタンがクリックされたときの処理\n    const handleSubmit = () => {\n      if (screen.password.length < 4) {\n        screen.errorCode = 'E003'; // パスワードが4文字未満の場合、エラーコードを設定\n      } else {\n        screen.errorCode = ''; // エラーコードをクリア\n      }\n      //TODO 削除START\n      if (screen.password == 'admin@11') {\n        const token = generateFakeToken(screen.employeeCode);\n        const user = {\n          username: screen.employeeCode,\n          role: 'admin'\n        };\n        store.dispatch('auth/login', {\n          user,\n          token\n        });\n        const userData = {\n          username: 'えにし太郎'\n        };\n        login(userData);\n        router.push('/BlankPage');\n      } else {\n        screen.errorCode = 'E003'; // パスワードが4文字未満の場合、エラーコードを設定\n      }\n      //TODO 削除END\n      console.log(`Code: ${screen.employeeCode}, Password: ${screen.password}`); // コードとパスワードをコンソールに表示\n    };\n\n    // テンプレートで使用する変数と関数を返す\n    return {\n      screen,\n      handleSubmit,\n      generateFakeToken\n    };\n  }\n};","map":{"version":3,"names":["reactive","NotificationError","useAuth","BaseTitle","store","router","components","setup","screen","label","title","ID","colon","user","password","loginBtn","uuidDisplayisPC","uuidDisplayisSP","employeeCode","showPassword","isFocused","errorCode","login","generateFakeToken","username","btoa","Date","now","handleSubmit","length","token","role","dispatch","userData","push","console","log"],"sources":["C:\\Users\\zhenghoufeng\\Desktop\\project\\enisysFront1\\src\\views\\CMN001_Login.vue"],"sourcesContent":["<template>\r\n  <VContainer class=\"container-login\">\r\n    <BaseTitle :title=\"screen.title\" class=\"title\"></BaseTitle>\r\n    <div class=\"errorMess\">\r\n      <NotificationError v-if=\"screen.errorCode\" :errorCode=\"screen.errorCode\" />\r\n    </div>\r\n    <VForm v-if=\"!(screen.errorCode == 'E001' && screen.errorCode)\" class=\"form-row\" @submit.prevent=\"handleSubmit\">\r\n      <VRow>\r\n        <VCol class=\"form-group1 mb-3\">\r\n          <h2>{{ screen.label.ID }}</h2>\r\n          <span>{{ screen.label.colon }}</span>\r\n          <p class=\"isPC\">{{ screen.uuidDisplayisPC }}</p>\r\n          <p class=\"isSP\">{{ screen.uuidDisplayisSP }}</p>\r\n        </VCol>\r\n      </VRow>\r\n      <VRow>\r\n        <VCol class=\"mb-3\">\r\n          <h2>{{ screen.label.user }}</h2>\r\n          <VTextField v-model=\"screen.employeeCode\" class=\"custom-input\" outlined hide-details />\r\n        </VCol>\r\n      </VRow>\r\n      <VRow>\r\n        <VCol class=\"form-pass mb-3\">\r\n          <h2>{{ screen.label.password }}</h2>\r\n          <VTextField\r\n            v-model=\"screen.password\"\r\n            :type=\"screen.showPassword ? 'text' : 'password'\"\r\n            class=\"custom-input\"\r\n            outlined\r\n            @focus=\"screen.isFocused = true\"\r\n            @blur=\"screen.isFocused = false\"\r\n          >\r\n            <template v-if=\"screen.isFocused\" v-slot:append-inner>\r\n              <VIcon @click=\"screen.showPassword = !screen.showPassword\" class=\"cursor-pointer\">\r\n                {{ screen.showPassword ? 'mdi-eye-off' : 'mdi-eye' }}\r\n              </VIcon>\r\n            </template>\r\n          </VTextField>\r\n        </VCol>\r\n      </VRow>\r\n\r\n      <div class=\"form-btn\">\r\n        <VBtn type=\"submit\" color=\"primary\" class=\"custom-btn\">{{ screen.label.loginBtn }}</VBtn>\r\n      </div>\r\n    </VForm>\r\n  </VContainer>\r\n</template>\r\n\r\n<script>\r\n  import { reactive } from 'vue';\r\n  import NotificationError from '@/components/error/NotificationError.vue';\r\n  import { useAuth } from '@/composables/userAuth';\r\n  import BaseTitle from '@/components/BaseTitle.vue';\r\n  import store from '@/store';\r\n  import router from '@/router';\r\n  // import Cookies from \"js-cookie\";\r\n\r\n  export default {\r\n    components: { BaseTitle, NotificationError },\r\n    setup() {\r\n      // リアクティブな変数を定義\r\n      const screen = reactive({\r\n        label: {\r\n          title: 'ログイン',\r\n          ID: '端末ID',\r\n          colon: ':',\r\n          user: '従業員コード',\r\n          password: 'パスワード',\r\n          loginBtn: 'ログイン'\r\n        },\r\n        title: 'ログイン',\r\n        uuidDisplayisPC: '71551E9F-FA01-6947-AFEA-11B73F1DF273',\r\n        uuidDisplayisSP: '71551E9F-FA01-6947',\r\n        employeeCode: '9999:enisitaro',\r\n        password: 'admin@11',\r\n        showPassword: false,\r\n        isFocused: false,\r\n        errorCode: ''\r\n      });\r\n\r\n      const { login } = useAuth();\r\n      const generateFakeToken = (username) => {\r\n        return btoa(`${username}-fakeToken-${Date.now()}`);\r\n      };\r\n\r\n      // const uuidFromCookies = Cookies.get(\"uuid\");\r\n      //クッキーからUUID(デバイス)をチェック\r\n      // if (uuidFromCookies) {\r\n      //   uuidDisplay.value = uuidFromCookies.value;\r\n      //   // errorCode.value = \"E001\";\r\n      // } else {\r\n      //   // router.push(\"/ErrorPage\");\r\n      // }\r\n\r\n      // ボタンがクリックされたときの処理\r\n      const handleSubmit = () => {\r\n        if (screen.password.length < 4) {\r\n          screen.errorCode = 'E003'; // パスワードが4文字未満の場合、エラーコードを設定\r\n        } else {\r\n          screen.errorCode = ''; // エラーコードをクリア\r\n        }\r\n        //TODO 削除START\r\n        if (screen.password == 'admin@11') {\r\n          const token = generateFakeToken(screen.employeeCode);\r\n          const user = {\r\n            username: screen.employeeCode,\r\n            role: 'admin'\r\n          };\r\n          store.dispatch('auth/login', { user, token });\r\n          const userData = { username: 'えにし太郎' };\r\n          login(userData);\r\n          router.push('/BlankPage');\r\n        } else {\r\n          screen.errorCode = 'E003'; // パスワードが4文字未満の場合、エラーコードを設定\r\n        }\r\n        //TODO 削除END\r\n        console.log(`Code: ${screen.employeeCode}, Password: ${screen.password}`); // コードとパスワードをコンソールに表示\r\n      };\r\n\r\n      // テンプレートで使用する変数と関数を返す\r\n      return {\r\n        screen,\r\n        handleSubmit,\r\n        generateFakeToken\r\n      };\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .container-login {\r\n    display: block;\r\n    width: 80%;\r\n    margin: 0 auto;\r\n    margin-top: 30px;\r\n  }\r\n  .title {\r\n    padding: 0;\r\n  }\r\n  .errorMess {\r\n    width: auto;\r\n    height: 70px;\r\n  }\r\n  .form-row {\r\n    width: 500px;\r\n    margin: 0 auto;\r\n    margin-top: 30px;\r\n  }\r\n  .form-group1 {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  .form-group1 h2,\r\n  .form-group2 h2,\r\n  .form-group3 h2 {\r\n    flex-shrink: 0;\r\n  }\r\n  .form-group1 span {\r\n    font-size: 24px;\r\n    font-weight: bolder;\r\n    margin: 0 20px;\r\n    flex-shrink: 0;\r\n  }\r\n  .form-group1 p {\r\n    flex-grow: 1;\r\n    margin: 0;\r\n  }\r\n  .form-group1,\r\n  .form-group2,\r\n  .form-group3 {\r\n    margin-bottom: 20px;\r\n  }\r\n  :deep(.custom-input .v-input__control) {\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  :deep(.custom-input .v-field__message) {\r\n    color: red;\r\n  }\r\n\r\n  :deep(.custom-input .v-input__underlay .v-field__outline__notch) {\r\n    border-color: transparent;\r\n  }\r\n\r\n  :deep(.custom-input .v-input__control .v-field__outline__notch) {\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n  .form-pass {\r\n    position: relative;\r\n  }\r\n  :deep(.form-pass .v-field) {\r\n    padding-right: 25px;\r\n  }\r\n\r\n  .eye-icon {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-15%);\r\n    right: 22px;\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n  .form-btn {\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n  .custom-btn {\r\n    width: 100%;\r\n    max-width: 300px;\r\n    font-size: 16px;\r\n  }\r\n\r\n  @media (max-width: 850px) {\r\n    .container-login {\r\n      margin-top: 5px;\r\n      padding: 10px;\r\n    }\r\n    .form-row {\r\n      width: 100%;\r\n      padding: 0 10px;\r\n    }\r\n  }\r\n</style>\r\n"],"mappings":";;AAiDE,SAASA,QAAO,QAAS,KAAK;AAC9B,OAAOC,iBAAgB,MAAO,0CAA0C;AACxE,SAASC,OAAM,QAAS,wBAAwB;AAChD,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,KAAI,MAAO,SAAS;AAC3B,OAAOC,MAAK,MAAO,UAAU;AAC7B;;AAEA,eAAe;EACbC,UAAU,EAAE;IAAEH,SAAS;IAAEF;EAAkB,CAAC;EAC5CM,KAAKA,CAAA,EAAG;IACN;IACA,MAAMC,MAAK,GAAIR,QAAQ,CAAC;MACtBS,KAAK,EAAE;QACLC,KAAK,EAAE,MAAM;QACbC,EAAE,EAAE,MAAM;QACVC,KAAK,EAAE,GAAG;QACVC,IAAI,EAAE,QAAQ;QACdC,QAAQ,EAAE,OAAO;QACjBC,QAAQ,EAAE;MACZ,CAAC;MACDL,KAAK,EAAE,MAAM;MACbM,eAAe,EAAE,sCAAsC;MACvDC,eAAe,EAAE,oBAAoB;MACrCC,YAAY,EAAE,gBAAgB;MAC9BJ,QAAQ,EAAE,UAAU;MACpBK,YAAY,EAAE,KAAK;MACnBC,SAAS,EAAE,KAAK;MAChBC,SAAS,EAAE;IACb,CAAC,CAAC;IAEF,MAAM;MAAEC;IAAM,IAAIpB,OAAO,CAAC,CAAC;IAC3B,MAAMqB,iBAAgB,GAAKC,QAAQ,IAAK;MACtC,OAAOC,IAAI,CAAC,GAAGD,QAAQ,cAAcE,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC;IACpD,CAAC;;IAED;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACzB,IAAIpB,MAAM,CAACM,QAAQ,CAACe,MAAK,GAAI,CAAC,EAAE;QAC9BrB,MAAM,CAACa,SAAQ,GAAI,MAAM,EAAE;MAC7B,OAAO;QACLb,MAAM,CAACa,SAAQ,GAAI,EAAE,EAAE;MACzB;MACA;MACA,IAAIb,MAAM,CAACM,QAAO,IAAK,UAAU,EAAE;QACjC,MAAMgB,KAAI,GAAIP,iBAAiB,CAACf,MAAM,CAACU,YAAY,CAAC;QACpD,MAAML,IAAG,GAAI;UACXW,QAAQ,EAAEhB,MAAM,CAACU,YAAY;UAC7Ba,IAAI,EAAE;QACR,CAAC;QACD3B,KAAK,CAAC4B,QAAQ,CAAC,YAAY,EAAE;UAAEnB,IAAI;UAAEiB;QAAM,CAAC,CAAC;QAC7C,MAAMG,QAAO,GAAI;UAAET,QAAQ,EAAE;QAAQ,CAAC;QACtCF,KAAK,CAACW,QAAQ,CAAC;QACf5B,MAAM,CAAC6B,IAAI,CAAC,YAAY,CAAC;MAC3B,OAAO;QACL1B,MAAM,CAACa,SAAQ,GAAI,MAAM,EAAE;MAC7B;MACA;MACAc,OAAO,CAACC,GAAG,CAAC,SAAS5B,MAAM,CAACU,YAAY,eAAeV,MAAM,CAACM,QAAQ,EAAE,CAAC,EAAE;IAC7E,CAAC;;IAED;IACA,OAAO;MACLN,MAAM;MACNoB,YAAY;MACZL;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}